<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lgy.smile.dao.MainCommentMapperInterface">

  	<select id="list" resultType="com.lgy.smile.dto.MainCommentDto" parameterType="hashmap">
				SELECT 
					comment.* ,
				    user.nickname
				FROM 	
					smile.comment_main comment ,
				    smile.user user
				WHERE 
					comment.board = #{boardIdentity}
				    AND comment.user = user.identity
  	</select>
  	

	<insert id="write" parameterType="hashmap">
				INSERT INTO smile.comment_main VALUES(
					null , #{content} , #{created} , #{user} , #{board}
				)
	</insert>  	

	<insert id="modify" parameterType="hashmap">
				UPDATE 
					smile.comment_main 
				SET 
					content = #{content}
				WHERE 
					identity = #{identity}
	</insert>  	

	<delete id="delete" parameterType="hashmap">
				DELETE FROM smile.comment_main 
				WHERE identity = #{identity}
	</delete>  	
  	
</mapper>